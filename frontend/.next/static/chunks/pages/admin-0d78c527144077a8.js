(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(304)}])},5928:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5452:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4270:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},437:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9176:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},304:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var a=t(5893),i=t(7294),n=t(3495),c=t(893),r=t(437),l=t(5452),d=t(5928);let x=(0,t(3759).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var o=t(4270),m=t(9176),h=t(4273),u=t(2450),p=t(6501);let j={new:"bg-blue-500/20 text-blue-400",in_progress:"bg-yellow-500/20 text-yellow-400",responded:"bg-green-500/20 text-green-400",closed:"bg-gray-500/20 text-gray-400"},y={planning:"bg-yellow-500/20 text-yellow-400",in_progress:"bg-blue-500/20 text-blue-400",on_hold:"bg-orange-500/20 text-orange-400",completed:"bg-green-500/20 text-green-400",cancelled:"bg-red-500/20 text-red-400"};function N(){let{user:e}=(0,h.a)(),[s,t]=(0,i.useState)([]),[N,g]=(0,i.useState)([]),[f,v]=(0,i.useState)(!0),[b,w]=(0,i.useState)({totalProjects:0,activeProjects:0,totalInquiries:0,newInquiries:0});(0,i.useEffect)(()=>{_()},[]);let _=async()=>{try{let[e,s]=await Promise.all([u.qx.getAll(),u.s$.getAll()]),a=e.data,i=s.data;t(a),g(i);let n=a.length,c=a.filter(e=>["planning","in_progress"].includes(e.status)).length,r=i.length,l=i.filter(e=>"new"===e.status).length;w({totalProjects:n,activeProjects:c,totalInquiries:r,newInquiries:l})}catch(e){p.ZP.error("Failed to load dashboard data")}finally{v(!1)}},Z=async(e,s)=>{try{await u.s$.update(e,{status:s}),g(N.map(t=>t.id===e?{...t,status:s}:t)),p.ZP.success("Inquiry status updated")}catch(e){p.ZP.error("Failed to update inquiry status")}},k=N.slice(0,5),q=s.slice(0,5);return f?(0,a.jsx)("div",{className:"min-h-screen py-8",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-secondary-700 rounded w-1/4 mb-8"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"h-24 bg-secondary-800 rounded-lg"},s))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"h-96 bg-secondary-800 rounded-lg"}),(0,a.jsx)("div",{className:"h-96 bg-secondary-800 rounded-lg"})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-secondary-400",children:"Manage projects, inquiries, and monitor platform activity."})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-400 text-sm",children:"Total Projects"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:b.totalProjects})]}),(0,a.jsx)(c.Z,{size:24,className:"text-primary-500"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-400 text-sm",children:"Active Projects"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:b.activeProjects})]}),(0,a.jsx)(r.Z,{size:24,className:"text-blue-500"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-400 text-sm",children:"Total Inquiries"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:b.totalInquiries})]}),(0,a.jsx)(l.Z,{size:24,className:"text-green-500"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-400 text-sm",children:"New Inquiries"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:b.newInquiries})]}),(0,a.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xs font-bold",children:b.newInquiries>99?"99+":b.newInquiries})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Recent Inquiries"}),(0,a.jsx)("a",{href:"/admin/inquiries",className:"text-primary-400 hover:text-primary-300 text-sm font-medium",children:"View all"})]}),0===k.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(l.Z,{size:48,className:"text-secondary-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-secondary-400",children:"No inquiries yet"})]}):(0,a.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-secondary-800/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:e.subject}),(0,a.jsxs)("p",{className:"text-secondary-400 text-sm mb-2",children:["From: ",e.name," (",e.email,")"]}),(0,a.jsx)("p",{className:"text-secondary-300 text-sm line-clamp-2",children:e.message})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(j[e.status]),children:e.status.replace("_"," ")}),(0,a.jsxs)("select",{value:e.status,onChange:s=>Z(e.id,s.target.value),className:"bg-secondary-700 border border-secondary-600 rounded px-2 py-1 text-xs",children:[(0,a.jsx)("option",{value:"new",children:"New"}),(0,a.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,a.jsx)("option",{value:"responded",children:"Responded"}),(0,a.jsx)("option",{value:"closed",children:"Closed"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-secondary-500",children:[(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()}),e.service_interest&&(0,a.jsx)("span",{className:"text-primary-400",children:e.service_interest.replace("_"," ")})]})]},e.id))})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Recent Projects"}),(0,a.jsx)("a",{href:"/admin/projects",className:"text-primary-400 hover:text-primary-300 text-sm font-medium",children:"View all"})]}),0===q.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.Z,{size:48,className:"text-secondary-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-secondary-400",children:"No projects yet"})]}):(0,a.jsx)("div",{className:"space-y-4",children:q.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-secondary-800/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:e.title}),(0,a.jsxs)("p",{className:"text-secondary-400 text-sm mb-2",children:["Client: ",e.client_id]}),e.description&&(0,a.jsx)("p",{className:"text-secondary-300 text-sm line-clamp-2",children:e.description})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(y[e.status]),children:e.status.replace("_"," ")}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("button",{className:"p-1 text-secondary-400 hover:text-white",children:(0,a.jsx)(d.Z,{size:14})}),(0,a.jsx)("button",{className:"p-1 text-secondary-400 hover:text-white",children:(0,a.jsx)(x,{size:14})})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-secondary-500",children:[(0,a.jsx)("span",{children:e.project_type.replace("_"," ")}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]},e.id))})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-8 card",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("a",{href:"/admin/projects/new",className:"flex items-center justify-center space-x-3 p-4 bg-primary-600/20 hover:bg-primary-600/30 rounded-lg transition-colors border border-primary-600/30",children:[(0,a.jsx)(o.Z,{size:20,className:"text-primary-400"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"New Project"})]}),(0,a.jsxs)("a",{href:"/admin/inquiries",className:"flex items-center justify-center space-x-3 p-4 bg-secondary-700 hover:bg-secondary-600 rounded-lg transition-colors",children:[(0,a.jsx)(l.Z,{size:20,className:"text-secondary-300"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Manage Inquiries"})]}),(0,a.jsxs)("a",{href:"/admin/users",className:"flex items-center justify-center space-x-3 p-4 bg-secondary-700 hover:bg-secondary-600 rounded-lg transition-colors",children:[(0,a.jsx)(m.Z,{size:20,className:"text-secondary-300"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Manage Users"})]}),(0,a.jsxs)("a",{href:"/admin/analytics",className:"flex items-center justify-center space-x-3 p-4 bg-secondary-700 hover:bg-secondary-600 rounded-lg transition-colors",children:[(0,a.jsx)(r.Z,{size:20,className:"text-secondary-300"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Analytics"})]})]})]})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);